import asyncio
from utils import DatabaseService1
from utils.db_api.models import Question, Subject

# Bu yerga o‘zingiz tuzgan matematika savollari JSON ro‘yxatini joylang

BIOLOGIYA_RU = [
    {
        "question": "Основная функция ДНК — это:",
        "options": ["Хранение энергии", "Передача нервных импульсов", "Хранение и передача генетической информации", "Переваривание пищи"],
        "correct_answer": "Хранение и передача генетической информации"
    },
    {
        "question": "Какой органоид отвечает за выработку энергии в клетке?",
        "options": ["Лизосома", "Митохондрия", "Рибосома", "Аппарат Гольджи"],
        "correct_answer": "Митохондрия"
    },
    {
        "question": "Какой газ выделяют растения в процессе фотосинтеза?",
        "options": ["Углекислый газ", "Кислород", "Азот", "Метан"],
        "correct_answer": "Кислород"
    },
    {
        "question": "Сколько хромосом у человека в соматических клетках?",
        "options": ["23", "46", "22", "44"],
        "correct_answer": "46"
    },
    {
        "question": "Какие организмы являются автотрофами?",
        "options": ["Грибы", "Бактерии", "Зелёные растения", "Животные"],
        "correct_answer": "Зелёные растения"
    },
    {
        "question": "Какой витамин необходим для усвоения кальция?",
        "options": ["Витамин A", "Витамин D", "Витамин C", "Витамин K"],
        "correct_answer": "Витамин D"
    },
    {
        "question": "Какая часть мозга отвечает за координацию движений?",
        "options": ["Мозжечок", "Гипоталамус", "Продолговатый мозг", "Большие полушария"],
        "correct_answer": "Мозжечок"
    },
    {
        "question": "Сколько камер в сердце человека?",
        "options": ["2", "3", "4", "5"],
        "correct_answer": "4"
    },
    {
        "question": "Какой орган отвечает за фильтрацию крови?",
        "options": ["Печень", "Почки", "Сердце", "Лёгкие"],
        "correct_answer": "Почки"
    },
    {
        "question": "Какое вещество придаёт крови красный цвет?",
        "options": ["Глюкоза", "Гемоглобин", "Плазма", "Инсулин"],
        "correct_answer": "Гемоглобин"
    },
    {
        "question": "Какой газ человек выдыхает?",
        "options": ["Кислород", "Углекислый газ", "Азот", "Водород"],
        "correct_answer": "Углекислый газ"
    },
    {
        "question": "Какой орган синтезирует инсулин?",
        "options": ["Селезёнка", "Печень", "Поджелудочная железа", "Почки"],
        "correct_answer": "Поджелудочная железа"
    },
    {
        "question": "Какие клетки крови участвуют в иммунитете?",
        "options": ["Эритроциты", "Тромбоциты", "Лейкоциты", "Фибрины"],
        "correct_answer": "Лейкоциты"
    },
    {
        "question": "Какой процесс происходит в хлоропластах?",
        "options": ["Дыхание", "Фотосинтез", "Окисление", "Брожение"],
        "correct_answer": "Фотосинтез"
    },
    {
        "question": "Какая ткань проводит возбуждение в организме?",
        "options": ["Соединительная", "Мышечная", "Нервная", "Эпителиальная"],
        "correct_answer": "Нервная"
    },
    {
        "question": "Какой микроэлемент необходим для щитовидной железы?",
        "options": ["Кальций", "Железо", "Йод", "Натрий"],
        "correct_answer": "Йод"
    },
    {
        "question": "Сколько хромосом в половых клетках человека?",
        "options": ["23", "46", "22", "24"],
        "correct_answer": "23"
    },
    {
        "question": "Как называется процесс деления половых клеток?",
        "options": ["Митоз", "Мейоз", "Ферментация", "Осмос"],
        "correct_answer": "Мейоз"
    },
    {
        "question": "Какая ткань обеспечивает движение организма?",
        "options": ["Нервная", "Соединительная", "Мышечная", "Костная"],
        "correct_answer": "Мышечная"
    },
    {
        "question": "Кто считается основателем теории эволюции?",
        "options": ["Мендель", "Дарвин", "Линней", "Пастер"],
        "correct_answer": "Дарвин"
    },
    {
        "question": "Какой орган производит желчь?",
        "options": ["Печень", "Желудок", "Поджелудочная железа", "Почки"],
        "correct_answer": "Печень"
    },
    {
        "question": "Какой фермент расщепляет белки в желудке?",
        "options": ["Амилаза", "Липаза", "Пепсин", "Мальтаза"],
        "correct_answer": "Пепсин"
    },
    {
        "question": "Какие организмы имеют ядро в клетке?",
        "options": ["Вирусы", "Прокариоты", "Эукариоты", "Бактерии"],
        "correct_answer": "Эукариоты"
    },
    {
        "question": "Сколько типов мышечной ткани существует?",
        "options": ["Один", "Два", "Три", "Четыре"],
        "correct_answer": "Три"
    },
    {
        "question": "Кто открыл законы наследственности?",
        "options": ["Дарвин", "Пастер", "Мендель", "Линней"],
        "correct_answer": "Мендель"
    },
    {
        "question": "Как называется основная единица жизни?",
        "options": ["Орган", "Ткань", "Клетка", "Организм"],
        "correct_answer": "Клетка"
    },
    {
        "question": "Какой органоид синтезирует белки?",
        "options": ["Митохондрия", "Рибосома", "Аппарат Гольджи", "Ядро"],
        "correct_answer": "Рибосома"
    },
    {
        "question": "Какое вещество входит в состав клеточной стенки растений?",
        "options": ["Гликоген", "Целлюлоза", "Хитин", "Липиды"],
        "correct_answer": "Целлюлоза"
    },
    {
        "question": "Как называется процесс деления соматических клеток?",
        "options": ["Мейоз", "Бинарное деление", "Митоз", "Фотосинтез"],
        "correct_answer": "Митоз"
    },
    {
        "question": "Какие организмы обладают неограниченным ростом?",
        "options": ["Животные", "Грибы", "Растения", "Вирусы"],
        "correct_answer": "Растения"
    }
]
BIOLOGIYA_RU += [
    {
        "question": "Какая структура регулирует обмен веществ в клетке?",
        "options": ["Цитоплазма", "Мембрана", "Ядро", "Вакуоль"],
        "correct_answer": "Ядро"
    },
    {
        "question": "Какая система отвечает за транспорт веществ в организме человека?",
        "options": ["Дыхательная", "Пищеварительная", "Кровеносная", "Выделительная"],
        "correct_answer": "Кровеносная"
    },
    {
        "question": "Какой орган является самым большим у человека?",
        "options": ["Печень", "Кожа", "Скелет", "Мозг"],
        "correct_answer": "Кожа"
    },
    {
        "question": "Какой орган отвечает за выработку мочи?",
        "options": ["Мочевой пузырь", "Печень", "Почки", "Поджелудочная железа"],
        "correct_answer": "Почки"
    },
    {
        "question": "Что является продуктом фотосинтеза?",
        "options": ["Углекислый газ", "Глюкоза", "Мочевина", "Аденозин"],
        "correct_answer": "Глюкоза"
    },
    {
        "question": "Как называется белок, содержащийся в мышцах?",
        "options": ["Гемоглобин", "Миозин", "Кератин", "Инсулин"],
        "correct_answer": "Миозин"
    },
    {
        "question": "Где происходит всасывание питательных веществ в организме?",
        "options": ["Желудок", "Пищевод", "Толстый кишечник", "Тонкий кишечник"],
        "correct_answer": "Тонкий кишечник"
    },
    {
        "question": "Какая часть глаза регулирует количество света?",
        "options": ["Роговица", "Сетчатка", "Зрачок", "Хрусталик"],
        "correct_answer": "Зрачок"
    },
    {
        "question": "Какие организмы являются прокариотами?",
        "options": ["Грибы", "Бактерии", "Протисты", "Растения"],
        "correct_answer": "Бактерии"
    },
    {
        "question": "Какие организмы способны к фотосинтезу?",
        "options": ["Грибы", "Животные", "Растения", "Вирусы"],
        "correct_answer": "Растения"
    },
    {
        "question": "Какой органoid отвечает за упаковку и транспорт веществ?",
        "options": ["Аппарат Гольджи", "Митохондрия", "Рибосома", "Вакуоль"],
        "correct_answer": "Аппарат Гольджи"
    },
    {
        "question": "Какой тип соединительной ткани соединяет кости с мышцами?",
        "options": ["Кровь", "Сухожилие", "Хрящ", "Костная ткань"],
        "correct_answer": "Сухожилие"
    },
    {
        "question": "Какой орган отвечает за выработку ферментов пищеварения?",
        "options": ["Печень", "Желудок", "Поджелудочная железа", "Тонкий кишечник"],
        "correct_answer": "Поджелудочная железа"
    },
    {
        "question": "Какая структура обеспечивает защиту головного мозга?",
        "options": ["Кожа", "Позвоночник", "Череп", "Менинги"],
        "correct_answer": "Череп"
    },
    {
        "question": "Какой органоид расщепляет отходы в клетке?",
        "options": ["Лизосома", "Ядро", "Митохондрия", "Рибосома"],
        "correct_answer": "Лизосома"
    },
    {
        "question": "Какие животные дышат жабрами?",
        "options": ["Млекопитающие", "Земноводные", "Рыбы", "Пресмыкающиеся"],
        "correct_answer": "Рыбы"
    },
    {
        "question": "Как называется орган чувств, отвечающий за равновесие?",
        "options": ["Глаз", "Ухо", "Язык", "Нос"],
        "correct_answer": "Ухо"
    },
    {
        "question": "Какое вещество в клеточной мембране обеспечивает её гибкость?",
        "options": ["Белки", "Целлюлоза", "Холестерин", "РНК"],
        "correct_answer": "Холестерин"
    },
    {
        "question": "Что происходит при вдохе?",
        "options": ["Снижение давления в легких", "Сокращение желудочка", "Выброс кислорода", "Понижение частоты пульса"],
        "correct_answer": "Снижение давления в легких"
    },
    {
        "question": "Что контролирует гипофиз?",
        "options": ["Ферменты", "Гормоны", "Иммунитет", "Пищеварение"],
        "correct_answer": "Гормоны"
    },
    {
        "question": "Какой из этих витаминов водорастворимый?",
        "options": ["A", "D", "B", "K"],
        "correct_answer": "B"
    },
    {
        "question": "Какая структура отвечает за выработку сперматозоидов?",
        "options": ["Предстательная железа", "Яичко", "Семявыносящий проток", "Мочеиспускательный канал"],
        "correct_answer": "Яичко"
    },
    {
        "question": "Какие клетки отвечают за свёртывание крови?",
        "options": ["Эритроциты", "Тромбоциты", "Лейкоциты", "Фибриногены"],
        "correct_answer": "Тромбоциты"
    },
    {
        "question": "Что такое ген?",
        "options": ["Орган", "Фермент", "Участок ДНК", "Белок"],
        "correct_answer": "Участок ДНК"
    },
    {
        "question": "Какой тип размножения не требует партнёра?",
        "options": ["Половое", "Бесполое", "Скрещивание", "Партеногенез"],
        "correct_answer": "Бесполое"
    },
    {
        "question": "Где находится центросома?",
        "options": ["В ядре", "В цитоплазме", "В клеточной стенке", "В вакуоли"],
        "correct_answer": "В цитоплазме"
    },
    {
        "question": "Какое вещество придаёт растениям зелёный цвет?",
        "options": ["Ксантофилл", "Антоциан", "Хлорофилл", "Каротин"],
        "correct_answer": "Хлорофилл"
    },
    {
        "question": "Какая из этих структур есть только у животных клеток?",
        "options": ["Клеточная стенка", "Цитоплазма", "Лизосома", "Хлоропласт"],
        "correct_answer": "Лизосома"
    },
    {
        "question": "Кто открывает пенициллин?",
        "options": ["Флеминг", "Дарвин", "Мендель", "Пастер"],
        "correct_answer": "Флеминг"
    },
    {
        "question": "Какая железа отвечает за рост в детском возрасте?",
        "options": ["Щитовидная железа", "Гипофиз", "Поджелудочная железа", "Надпочечники"],
        "correct_answer": "Гипофиз"
    }
]
BIOLOGIYA_RU += [
    {"question": "Как называется соединительная жидкая ткань, циркулирующая в организме?",
     "options": ["Нервная ткань", "Кость", "Кровь", "Мышца"],
     "correct_answer": "Кровь"
    },
    {"question": "Какой орган отвечает за фильтрацию крови и выработку мочи?",
     "options": ["Печень", "Сердце", "Почка", "Лёгкое"],
     "correct_answer": "Почка"
    },
    {"question": "Какие клетки участвуют в свертывании крови?",
     "options": ["Эритроциты", "Лейкоциты", "Тромбоциты", "Плазма"],
     "correct_answer": "Тромбоциты"
    },
    {"question": "Где в организме происходит всасывание питательных веществ?",
     "options": ["Толстый кишечник", "Тонкий кишечник", "Желудок", "Пищевод"],
     "correct_answer": "Тонкий кишечник"
    },
    {"question": "Какой орган отвечает за выработку инсулина?",
     "options": ["Поджелудочная железа", "Селезёнка", "Печень", "Щитовидная железа"],
     "correct_answer": "Поджелудочная железа"
    },
    {"question": "Какой орган выделяет желчь?",
     "options": ["Печень", "Желудок", "Кишечник", "Почка"],
     "correct_answer": "Печень"
    },
    {"question": "Что называется анатомия человека?",
     "options": ["Функции органов", "Строение организма", "Психология поведения", "Биохимия клеток"],
     "correct_answer": "Строение организма"
    },
    {"question": "Какая ткань проводит нервные импульсы?",
     "options": ["Мышечная", "Эпителиальная", "Соединительная", "Нервная"],
     "correct_answer": "Нервная"
    },
    {"question": "Что регулирует деятельность организма химически?",
     "options": ["Нервная система", "Гуморальная регуляция", "Опорно-двигательная система", "Дыхательная система"],
     "correct_answer": "Гуморальная регуляция"
    },
    {"question": "Где формируются эритроциты?",
     "options": ["Красный костный мозг", "Почки", "Печень", "Селезёнка"],
     "correct_answer": "Красный костный мозг"
    },
    {"question": "Что относится к законам гигиены?",
     "options": ["Правильное питание", "Курение", "Загрязнение воздуха", "Недостаток сна"],
     "correct_answer": "Правильное питание"
    },
    {"question": "Что вызывает иммунный ответ при заражении?",
     "options": ["Антибиотики", "Антитела", "Витамины", "Минералы"],
     "correct_answer": "Антитела"
    },
    {"question": "Что называется фагоцитозом?",
     "options": ["Выделение гормонов", "Уничтожение клетками чужеродных тел", "Фильтрация мочи", "Свертывание крови"],
     "correct_answer": "Уничтожение клетками чужеродных тел"
    },
    {"question": "Какой фермент участвует в переваривании белков в желудке?",
     "options": ["Амилаза", "Липаза", "Пепсин", "Мальтаза"],
     "correct_answer": "Пепсин"
    },
    {"question": "Что регулирует дыхание и сердечную деятельность?",
     "options": ["Гипофиз", "Продолговатый мозг", "Сердце", "Лёгкие"],
     "correct_answer": "Продолговатый мозг"
    },
    {"question": "Какая система защищает от инфекций?",
     "options": ["Дыхательная", "Имунная", "Пищеварительная", "Выделительная"],
     "correct_answer": "Имунная"
    },
    {"question": "Какая ткань образует кожу?",
     "options": ["Эпителиальная", "Соединительная", "Мышечная", "Нервная"],
     "correct_answer": "Эпителиальная"
    },
    {"question": "Какой газ выводится при выдохе?",
     "options": ["Кислород", "Азот", "Углекислый газ", "Водород"],
     "correct_answer": "Углекислый газ"
    },
    {"question": "Что такое анализатор?",
     "options": ["Орган восприятия раздражения", "Печень", "Сосуд", "Сердце"],
     "correct_answer": "Орган восприятия раздражения"
    },
    {"question": "Где в организме расположена щитовидная железа?",
     "options": ["В грудной клетке", "В шее", "В животе", "В голове"],
     "correct_answer": "В шее"
    },
    {"question": "Что называется плазмой крови?",
     "options": ["Форменные элементы", "Жидкая часть", "Клетки", "Белки"],
     "correct_answer": "Жидкая часть"
    },
    {"question": "Что участвует в пластическом обмене?",
     "options": ["Синтез веществ", "Расщепление жиров", "Выделение", "Свертывание"],
     "correct_answer": "Синтез веществ"
    },
    {"question": "Где находятся рецепторы давления и температуры?",
     "options": ["В коже", "В лёгких", "В почках", "В мышцах"],
     "correct_answer": "В коже"
    },
    {"question": "Что такое размножение партеногенезом?",
     "options": ["Половое размножение", "Безполовое, без участия самцов", "Вакцинация", "Иммунитет"],
     "correct_answer": "Безполовое, без участия самцов"
    },
    {"question": "Какие мышцы человека сокращаются по воле?",
     "options": ["Гладкие", "Сердечные", "Скелетные", "Все сразу"],
     "correct_answer": "Скелетные"
    },
    {"question": "Что защищает головной мозг?",
     "options": ["Плечо", "Позвоночник", "Череп", "Мышцы"],
     "correct_answer": "Череп"
    },
    {"question": "Как называется набор признаков, доставшийся по наследству?",
     "options": ["Фенотип", "Генотип", "Белок", "Фермент"],
     "correct_answer": "Генотип"
    },
    {"question": "Как называется реакция тела на инфекцию, например покраснение и отёк?",
     "options": ["Аллергия", "Воспаление", "Инфекция", "Иммунитет"],
     "correct_answer": "Воспаление"
    },
    {"question": "Какие органы осуществляют газообмен в организме?",
     "options": ["Кровеносные сосуды", "Лёгкие", "Печень", "Почки"],
     "correct_answer": "Лёгкие"
    },
    {"question": "Что называется гигиеной?",
     "options": ["Наука о здоровье", "Болезнь", "Вирус", "Гормон"],
     "correct_answer": "Наука о здоровье"
    }
]





async def seed_math_questions():
    db = DatabaseService1()
    # await db.add(Subject(name="Nemis tili", subject_val='14', language="O'zbek tili"))
    # await db.add(Subject(name="Fransuz tili", subject_val='15', language="Rus tili"))
    inserted = 0
    for item in BIOLOGIYA_RU:
        text = item["question"].strip()
        # agar allaqachon bunday savol bo‘lsa o‘tib ketamiz
        # exists = await db.get(Question, filters={"subject_id": subject_id, "text": text})
        # if exists:
        #     continue

        opts = item["options"]
        if len(opts) != 4:
            print(f"Skipping «{text}»: 4 ta option talab qilinadi.")
            continue

        q = Question(
            subject_id=6,
            text=text,
            option1=opts[0],
            option2=opts[1],
            option3=opts[2],
            option4=opts[3],
            formula=item.get("formula", ""),
            correct_answer=item["correct_answer"]
        )
        await db.add(q)
        inserted += 1
        print(f"Inserted: {text}")

    print(f"Seeding complete. {inserted} new question(s) added.")


if __name__ == "__main__":
    asyncio.run(seed_math_questions())
'''
import asyncio
from utils import DatabaseService1
from utils.db_api.models import Question, Subject
import pandas as pd
# Bu yerga o‘zingiz tuzgan matematika savollari JSON ro‘yxatini joylang
MATH_TESTS = [
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "0.7\\cdot(6y-5) = 0.4\\cdot(y-3) - 1.16",
        "options": ["0.3", "-3", "-0.3", "2"],
        "correct_answer": "0.3"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "0.9\\cdot(4x-2) = 0.5\\cdot(3x-4) + 4.4",
        "options": ["1.2", "2.5", "-3", "2"],
        "correct_answer": "2"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "0.2\\cdot(5y-2) = 0.3\\cdot(2y-1) - 0.9",
        "options": ["2", "0.2", "-2", "-1.2"],
        "correct_answer": "-2"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "2.8x - 3\\cdot(2x-1) = 2.8 - 3.19x",
        "options": ["-20", "20", "-2", "200"],
        "correct_answer": "20"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "5.6 - 7\\cdot(0.8x+1) = 14 - 5.32x",
        "options": ["5.5", "55", "-55", "-5.5"],
        "correct_answer": "-55"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "4.5 - 1.6\\cdot(5x-3) = 1.2\\cdot(4x-1) - 15.1",
        "options": ["20", "2", "0.2", "0.5"],
        "correct_answer": "2"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "\\frac{6,9}{4,6} = \\frac{x}{5,4}",
        "options": ["7,1", "7,7", "8,4", "9,2"],
        "correct_answer": "7,7"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "\\frac{3,5}{x} = \\frac{0,8}{2,4}",
        "options": ["10,5", "13,5", "7,8", "11,5"],
        "correct_answer": "10,5"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "\\frac{5,4}{2,4} = \\frac{x}{1,6}",
        "options": ["3,6", "2,8", "4,6", "3,9"],
        "correct_answer": "3,6"
    },
    {
        "question": "Quyidagi tenglamani yeching",
        "formula": "\\frac{0,25}{1,4} = \\frac{0,75}{x}",
        "options": ["3,6", "2,4", "4,2", "5,2"],
        "correct_answer": "4,2"
    },
]


async def seed_math_questions(file_path="questions_export_124.06.2025.xlsx"):
    db = DatabaseService1()
    # await db.add(Subject(name="Nemis tili", subject_val='14', language="O'zbek tili"))
    # await db.add(Subject(name="Fransuz tili", subject_val='15', language="Rus tili"))
    questions = await db.get(Question)
    data = []
    for q in questions:
        data.append({
            "subject_id": q.subject_id,
            "text": q.text,
            "option1": q.option1,
            "option2": q.option2,
            "option3": q.option3,
            "option4": q.option4,
            "correct_answer": q.correct_answer,
            "formula": q.formula or ""
        })

    df = pd.DataFrame(data)
    df.to_excel(file_path, index=False)
    print(f"✅ Savollar saqlandi: {file_path}")


if __name__ == "__main__":
    asyncio.run(seed_math_questions())
'''
